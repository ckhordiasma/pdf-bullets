(this["webpackJsonppdf-bullets-cra"]=this["webpackJsonppdf-bullets-cra"]||[]).push([[0],{122:function(e,t){},124:function(e,t){},242:function(e,t){},243:function(e,t){},244:function(e,t){},245:function(e,t){},246:function(e,t){},251:function(e,t){},252:function(e,t){},254:function(e,t,n){},256:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),s=n.n(r),i=n(66),o=n.n(i),c=n(6),l=n(38),u=n(7),d=(n(226),n(68)),b=n(14),h=n(15),p=n(17),f=n(16),j=n(18),m=n(19),v=n(230),O=n(247);v.GlobalWorkerOptions.workerSrc=O;var g=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).importFile=function(e){if(a.fileInputRef.current.value){var t=function(e){console.log(e)};"PDF"===a.state.type?t=a.getDataFromPDF:"JSON"===a.state.type&&(t=a.getDataFromJSON),t(a.fileInputRef.current.files[0]),a.fileInputRef.current.value=""}else console.log("no file picked")},a.inputClick=function(e){return function(){a.setState({type:e}),a.fileInputRef.current.click()}},a.getDataFromPDF=function(e){var t=function(e){var t=e.arrayBuffer().then((function(e){var t=new Uint8Array(e);return v.getDocument({data:t}).promise})),n=t.then((function(e){return e.getXFA()})),a=t.then((function(e){return e.getMetadata().then((function(e){return e.info.Custom["Short Title - Prefix"]+""+e.info.Custom["Short Title - Number"]}))})),r=Promise.all([a,n]),s=r.then((function(e){var t=e[0],n=e[1].datasets;n=n.replace(/&#xD;/g,"\n");var a,r=(new DOMParser).parseFromString(n,"text/xml"),s="",i=Object(l.a)(k.all[t].fields);try{for(i.s();!(a=i.n()).done;){var o=a.value;s+=r.querySelector(o).innerHTML+"\n"}}catch(c){i.e(c)}finally{i.f()}return s})),i=r.then((function(e){var t,n=e[0],a=e[1].template,r=(new DOMParser).parseFromString(a,"text/xml"),s=[],i=[],o=[],c=0,u=Object(l.a)(k.all[n].fields);try{for(u.s();!(t=u.n()).done;){var d=t.value,b=r.querySelector("field[name='"+d+"'");s[c]=b.querySelector("font").getAttribute("typeface"),i[c]=b.querySelector("font").getAttribute("size"),o[c]=b.getAttribute("w"),c+=1}}catch(O){u.e(O)}finally{u.f()}for(var h=0,p=s;h<p.length;h++){if(p[h]!==s[0]){console.log("warning: not all grabbed sections have the same font type");break}}for(var f=0,j=i;f<j.length;f++){if(j[f]!==i[0]){console.log("warning: not all grabbed sections have the same font size");break}}for(var m=0,v=o;m<v.length;m++){if(v[m]!==o[0]){console.log("warning: not all grabbed sections have the same width");break}}return{font:s[0],fontSize:i[0],width:o[0]}}));return{pullBullets:s,getPageInfo:i}}(e),n=t.pullBullets,r=t.getPageInfo,s=a.props.onTextUpdate,i=a.props.onWidthUpdate;Promise.all([n,r]).then((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];i(parseFloat(a.width))();var r=(new DOMParser).parseFromString(n,"text/html").documentElement.textContent;s(r)()}))},a.getDataFromJSON=function(e){var t=new FileReader;t.onload=function(e){var t=JSON.parse(e.target.result);a.props.onJSONImport(t)},t.readAsText(e)},a.hoverOut=function(){a.setState({hovering:!1})},a.toggleMenu=function(){var e=a.state.hovering;a.setState({hovering:!e})},a.fileInputRef=s.a.createRef(),a.state={type:"none",hovering:!1},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state.hovering?"is-active":"";return Object(a.jsxs)("div",{className:"dropdown "+e,children:[Object(a.jsx)("input",{type:"file",onChange:this.importFile,style:{display:"none"},ref:this.fileInputRef}),Object(a.jsx)("div",{className:"dropdown-trigger",children:Object(a.jsxs)("div",{className:"buttons has-addons",children:[Object(a.jsx)("button",{className:"button",onClick:this.inputClick("PDF"),children:"Import"}),Object(a.jsx)("button",{className:"button",onClick:this.toggleMenu,"aria-haspopup":"true","aria-controls":"import-menu",children:Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(j.a,{icon:m.a})})})]})}),Object(a.jsx)("div",{className:"dropdown-menu",id:"import-menu",role:"menu",onMouseLeave:this.hoverOut,children:Object(a.jsxs)("div",{className:"dropdown-content",children:[Object(a.jsx)("a",{href:"?#",className:"dropdown-item",onClick:this.inputClick("PDF"),children:"PDF"}),Object(a.jsx)("a",{href:"?#",className:"dropdown-item",onClick:this.inputClick("JSON"),children:"JSON"})]})})]})}}]),n}(s.a.PureComponent),x=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={},a}return Object(h.a)(n,[{key:"render",value:function(){var e=202.321,t=202.321,n=201.041;return Object(a.jsxs)("div",{className:"field is-grouped",children:[Object(a.jsxs)("div",{className:"control field has-addons",children:[Object(a.jsxs)("div",{className:"control has-icons-right",children:[Object(a.jsx)("input",{className:"input",id:"widthInput",type:"number",min:"100",max:"500",step:".001",value:this.props.width,onChange:this.props.onWidthChange}),Object(a.jsx)("span",{className:"icon is-right",children:"mm"})]}),Object(a.jsxs)("div",{className:"control buttons has-addons",children:[Object(a.jsx)("a",{className:"button is-primary "+(this.props.width===e?"":"is-outlined"),onClick:this.props.onWidthUpdate(e),children:"AWD"}),Object(a.jsx)("a",{className:"button is-success "+(this.props.width===t?"":"is-outlined"),onClick:this.props.onWidthUpdate(t),children:"EPR"}),Object(a.jsx)("a",{className:"button is-link "+(this.props.width===n?"":"is-outlined"),onClick:this.props.onWidthUpdate(n),children:"OPR"})]})]}),Object(a.jsx)("a",{className:"control button is-dark"+(this.props.enableOptim?"":"is-outlined"),onClick:this.props.onOptimChange,id:"enableOptim",children:"Auto-Space"})]})}}]),n}(s.a.PureComponent),w=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsx)("button",{className:"button",onClick:this.props.onTextNorm,children:"Renormalize Input Spacing"})}}]),n}(s.a.PureComponent),y=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).onSave=function(){var e=a.props.onSave(),t=JSON.stringify([e]);try{localStorage.setItem("bullet-settings",t),console.log("saved settings/data to local storage with character length "+t.length)}catch(n){if("SecurityError"!==n.name)throw n;alert("Sorry, saving to cookies does not work using the file:// interface and/or your browser's privacy settings")}},a.onExport=function(){var e=a.props.onSave(),t=JSON.stringify([e]),n="data:application/JSON;charset=utf-8,"+encodeURIComponent(t);a.exportRef.current.href=n,a.exportRef.current.click(),console.log("exported settings/data to JSON file with character length "+t.length)},a.hoverOut=function(){a.setState({hovering:!1})},a.toggleMenu=function(){var e=a.state.hovering;a.setState({hovering:!e})},a.exportRef=s.a.createRef(),a.state={hovering:!1},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state.hovering?"is-active":"";return Object(a.jsxs)("div",{className:"dropdown "+e,children:[Object(a.jsx)("div",{className:"dropdown-trigger",children:Object(a.jsxs)("div",{className:"buttons has-addons",children:[Object(a.jsx)("button",{className:"button",onClick:this.onSave,children:"Save "}),Object(a.jsx)("button",{className:"button","aria-haspopup":"true","aria-controls":"save-menu",children:Object(a.jsx)("span",{className:"icon",onClick:this.toggleMenu,children:Object(a.jsx)(j.a,{icon:m.a})})})]})}),Object(a.jsx)("div",{className:"dropdown-menu",id:"save-menu",role:"menu",onMouseLeave:this.hoverOut,children:Object(a.jsxs)("div",{className:"dropdown-content",children:[Object(a.jsx)("a",{href:"?#",className:"dropdown-item",onClick:this.onSave,children:"Cookie"}),Object(a.jsx)("a",{href:"?#",className:"dropdown-item",onClick:this.onExport,children:"JSON"})]})}),Object(a.jsx)("a",{href:"?#",style:{display:"none"},download:"settings.json",ref:this.exportRef})]})}}]),n}(s.a.PureComponent),S=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("h1",{className:"title",children:[Object(a.jsx)("span",{className:"logo",children:"AF "}),Object(a.jsx)("span",{className:"logo",children:"Bull"}),"et",Object(a.jsx)("span",{className:"logo",children:" Sh"}),"aping &",Object(a.jsx)("span",{className:"logo",children:" i"}),"teration",Object(a.jsx)("span",{className:"logo",children:" t"}),"ool"]})}}]),n}(s.a.PureComponent),N=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("a",{className:"button",onClick:this.props.onHide,"aria-haspopup":"true","aria-controls":"thesaurus-menu",children:[Object(a.jsx)("span",{children:"Thesaurus"}),Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)(j.a,{icon:m.a})})]})}}]),n}(s.a.PureComponent),C=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsx)("nav",{className:"navbar",role:"navigation","aria-label":"main navigation",children:Object(a.jsxs)("div",{className:"navbar-start",children:[Object(a.jsx)("div",{className:"navbar-item",children:Object(a.jsx)(y,{onSave:this.props.onSave})}),Object(a.jsx)("div",{className:"navbar-item",children:Object(a.jsx)(g,{onJSONImport:this.props.onJSONImport,onTextUpdate:this.props.onTextUpdate,onWidthUpdate:this.props.onWidthUpdate})}),Object(a.jsx)("div",{className:"navbar-item",children:Object(a.jsx)(x,{enableOptim:this.props.enableOptim,onOptimChange:this.props.onOptimChange,width:this.props.width,onWidthChange:this.props.onWidthChange,onWidthUpdate:this.props.onWidthUpdate})}),Object(a.jsx)("div",{className:"navbar-item",children:Object(a.jsx)(w,{onTextNorm:this.props.onTextNorm})}),Object(a.jsx)("div",{className:"navbar-item",children:Object(a.jsx)(N,{onHide:this.props.onThesaurusHide})})]})})}}]),n}(s.a.PureComponent),k={all:{AF707:{fields:["S2DutyTitleDesc","S4Assessment","S5Assessment","S6Assessment"],likelyWidth:"201.041mm"},AF1206:{fields:["specificAccomplishments","p2SpecificAccomplishments"],likelyWidth:"202.321mm"},AF910:{fields:["KeyDuties","IIIComments","IVComments","VComments","VIIIComments","IXComments"],likelyWidth:"202.321mm"},AF911:{fields:["KeyDuties","IIIComments","IVComments","VIIComments","VIIIComments","IXComments"],likelyWidth:"202.321mm"}}};function R(e){var t=e.getSelection(),n=t.getAnchorKey(),a=e.getCurrentContent().getBlockForKey(n),r=t.getStartOffset(),s=t.getEndOffset(),i=a.getText().slice(r,s);return{selectionState:t,anchorKey:n,contentBlock:a,start:r,end:s,selectedText:i}}function A(e,t,n){n+=.55,e.match("\n")&&console.error("renderBulletText expects a single line of text");var a=t(e.trimEnd());if(a<n)return{textLines:[e],fullWidth:a,lines:1,overflow:a-n};var r=e.split(/(?<=[\u2004\u2009\u2006\s?/|\-%!])(?=[a-zA-Z0-9+\\])/);if(t(r[0])<n){for(var s=0,i=1;i<=r.length;i++){if(t(r.slice(0,i).join("").trimEnd())>n){s=i-1;break}}var o=r.slice(s,r.length).join("");if(o===e)return console.warn("Can't fit \""+e+'" on a single line\n',{text:e,width:n,fullWidth:a}),{textLines:[e],fullWidth:a,lines:1,overflow:a-n};var c=A(o,t,n);return{textLines:[r.slice(0,s).join("")].concat(Object(d.a)(c.textLines)),fullWidth:a,lines:1+c.lines,overflow:a-n}}var l=a/e.length,u=parseInt(n/l),b=t(e.substring(0,u)),h=u;if(b>n)for(var p=u-1;p>0;p--){if(t(e.substring(0,p))<n){h=p;break}}else if(b<n)for(var f=u;f<=e.length;f++){if(t(e.substring(0,f))>n){h=f-1;break}}var j=e.substring(h,e.length);if(j===e)return console.warn("Can't fit \""+e+'" on a single line\n',{text:e,width:n,fullWidth:a}),{textLines:[e],fullWidth:a,lines:1,overflow:a-n};var m=A(j,t,n);return{textLines:[e.substring(0,h)].concat(Object(d.a)(m.textLines)),fullWidth:a,lines:1+m.lines,overflow:a-n}}var D=0,F=1,T=-1,I=-4,E=function(e){return e.split(/[\s]+/)};function P(e){var t=e.editorState,n=e.setEditorState,r=e.width,i=e.onSelect,o=e.abbrReplacer,d=e.enableOptim,b="bulletOutput",h=s.a.useState(new Map),p=Object(c.a)(h,2),f=p[0],j=p[1];return s.a.useEffect((function(){var e,n=new Map,a=Object(l.a)(t.getCurrentContent().getBlockMap().keys());try{for(a.s();!(e=a.n()).done;){var r=e.value,s=document.querySelector('div[data-offset-key="'.concat(r,'-0-0"]'));s&&n.set(r,s.getBoundingClientRect().height)}}catch(i){a.e(i)}finally{a.f()}j(n)}),[t]),Object(a.jsxs)("div",{className:"bullets columns is-multiline",children:[Object(a.jsxs)("div",{className:"column",style:{},children:[Object(a.jsx)("h2",{className:"subtitle",children:"Input Bullets Here:"}),Object(a.jsx)("div",{className:"border",style:{width:r+1+"mm"},children:Object(a.jsx)(u.Editor,{editorState:t,onChange:function(e){var t=R(e).selectedText;i&&""!==t&&i(t),n(e)},handleKeyCommand:function(e,t){var a=u.RichUtils.handleKeyCommand(t,e);return a?(n(a),"handled"):"not-handled"}})})]}),Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("h2",{className:"subtitle",children:"View Output Here:"}),Object(a.jsx)("div",{className:"border",id:b,style:{width:r+1+"mm"},onMouseUp:function(e){var t=window.getSelection().toString();""!==t&&i(t)},onKeyDown:function(e){if(e.ctrlKey&&65===e.keyCode&&(e.preventDefault(),e.target.id.match(new RegExp(b)))){var t=document.createRange();t.selectNode(e.target),window.getSelection().removeAllRanges(),window.getSelection().addRange(t)}},tabIndex:"0",children:Array.from(t.getCurrentContent().getBlockMap(),(function(e){var t=Object(c.a)(e,2),n=t[0],s=t[1].getText();return o&&(s=o(s)),Object(a.jsx)(W,{text:s,widthPx:3.7795275590551185*r,height:f.get(n),enableOptim:d},n)}))})]})]})}function W(e){var t=e.text,n=void 0===t?"":t,r=e.widthPx,i=void 0===r?500:r,o=e.enableOptim,l=void 0!==o&&o,u=e.height,d=e.onHighlight,b=s.a.useRef(null),h=s.a.useState((function(){return[" "]})),p=Object(c.a)(h,2),f=p[0],j=p[1],m=s.a.useState("inherit"),v=Object(c.a)(m,2),O=v[0],g=v[1],x=s.a.useState(!1),w=Object(c.a)(x,2),y=w[0],S=w[1],N=s.a.useState(T),C=Object(c.a)(N,2),k=C[0],R=C[1],P=s.a.useState({textLines:[""]}),W=Object(c.a)(P,2),M=W[0],J=W[1];function U(e,t){var n=t.getContext("2d");return n.font="12pt Times New Roman",n.textAlign="left",n.measureText(e).width}return s.a.useEffect((function(){J(A(n,(function(e){return U(e,b.current)}),i))}),[n,i,l]),s.a.useEffect((function(){if(S(!0),j(M.textLines),l){var e=function(e,t){var n="\u2006",a="\u2004",r=E(e.trimEnd()),s=t(e);if(0===s.overflow)return s;var i=s,o=s,c=s.overflow>=0?n:a,l=T;function u(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}function d(e,t){return Math.floor(Math.abs(Math.floor(9*u(e)+5)%1e5/1e5)*Math.floor(t))}var b=t(r[0]+" "+r.slice(1).join(c));if(c===n&&b.overflow>0||c===a&&b.overflow<I)return{status:F,rendering:b};for(;o.overflow>0||o.overflow<I;){var h=d(r.join(""),r.length-1-1)+1;r.splice(h,2,r.slice(h,h+2).join(c));var p=t(r.join(" "));if(s.overflow<=0&&p.overflow>0){o=i,l=D;break}if(s.overflow>0&&p.overflow<0){o=p,l=D;break}i=p}return{status:l,rendering:o}}(n,(function(e){return A(e,(function(e){return U(e,b.current)}),i)}));S(!1),R(e.status),j(e.rendering.textLines)}else M.overflow<I||M.overflow>0?R(F):R(D),j(M.textLines),S(!1)}),[M,l,n,i]),s.a.useEffect((function(){g(y?"silver":k===F?"red":"black")}),[y,f,k]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("canvas",{ref:b,style:{visibility:"hidden",position:"absolute",top:"-1000px",left:"-1000px"}}),Object(a.jsx)("div",{style:{minHeight:u,color:O,display:"flex",flexDirection:"column"},onMouseUp:d,children:f.map((function(e){return Object(a.jsx)("span",{style:{whiteSpace:"pre"},children:e},e)}))})]})}var M=n(55),J=n(29),U=n.n(J),B=n.p+"static/media/abbrs.ebd0e99b.xlsx",L=n(39),H=n(8),z=n(125),V=n(31),G=n(40),K=n.n(G),q=n(126);function $(e){var t=e.preGlobalFilteredRows,n=e.globalFilter,r=e.setGlobalFilter,i=t.length,o=s.a.useState(n),l=Object(c.a)(o,2),u=l[0],d=l[1],b=Object(V.useAsyncDebounce)((function(e){r(e||void 0)}),200);return Object(a.jsxs)("span",{children:["Search:"," ",Object(a.jsx)("input",{className:"input",value:u||"",onChange:function(e){d(e.target.value),b(e.target.value)},placeholder:"".concat(i," rows..."),style:{fontSize:"1.1rem",border:"0"}})]})}function X(e){var t=e.column,n=t.filterValue,r=t.setFilter;return Object(a.jsx)("input",{className:"input",value:n||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Search..."})}function _(e){var t=e.column,n=t.filterValue,r=t.setFilter,i=s.a.useMemo((function(){return["All","Enabled","Disabled"]}),[]),o=s.a.useMemo((function(){return[void 0,!0,!1]}),[]),c=i[o.indexOf(n)];return Object(a.jsx)("div",{className:"select",children:Object(a.jsx)("select",{value:c,onChange:function(e){r(o[i.indexOf(e.target.value)])},children:i.map((function(e,t){return Object(a.jsx)("option",{value:e,children:e},t)}))})})}var Z=function(e){var t=e.value,n=e.row,r=e.column.id,i=e.updateDataAfterInput,o=s.a.useMemo((function(){return n.getToggleRowSelectedProps()}),[n]),c=o.onChange,l=o.style,u=(o.indeterminate,Object(M.a)(o,["onChange","style","indeterminate"])),d=s.a.useCallback((function(e){i(n.index,r,e.target.checked),c(e)}),[c,r,n.index,i]),b=K()(l,{$merge:{display:"none"}});return Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(a.jsxs)("label",{className:"icon is-large",children:[Object(a.jsx)("input",Object(H.a)({type:"checkbox",onChange:d,style:b},u)),Object(a.jsx)(j.a,{size:"2x",icon:t?m.b:q.a})]})})},Q=function(e){var t=e.value,n=e.row.index,r=e.column.id,i=e.updateDataAfterInput,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",l=s.a.useState(t),u=Object(c.a)(l,2),d=u[0],b=u[1],h=function(e){b("checkbox"===o?e.target.checked:e.target.value)},p=function(){i(n,r,d)};return s.a.useEffect((function(){b(t)}),[t]),Object(a.jsx)("input",{className:"input",type:o,value:d,onChange:h,onBlur:p})};var Y=function(e){var t=e.row,n=e.index,r=e.rowOps;return Object(a.jsxs)("tr",{children:[t.cells.map((function(e){return Object(a.jsx)("td",Object(H.a)(Object(H.a)({},e.getCellProps()),{},{children:e.render("Cell")}))})),Object(a.jsxs)("td",{children:[Object(a.jsx)("a",{className:"icon is-large",onClick:function(){return r.appendRow(n)},children:Object(a.jsx)(j.a,{icon:m.c,size:"2x"})}),Object(a.jsx)("a",{className:"icon is-large",onClick:function(){return r.deleteRow(n)},children:Object(a.jsx)(j.a,{icon:m.e,size:"2x"})})]})]})},ee=function(e){var t=e.data,n=e.setData,r=s.a.useMemo((function(){return[{Header:"Status",accessor:"enabled",Cell:Z,Filter:_,filter:"boolean",disableSortBy:!0},{Header:"Word",accessor:"value",Cell:Q},{Header:"Abbreviation",accessor:"abbr",Cell:Q}]}),[]),i=s.a.useMemo((function(){return{boolean:function(e,t,n){return e.filter((function(e){var a=e.values[t];return void 0===a||a===n}))}}}),[]),o=s.a.useMemo((function(){return{Filter:X}}),[]),c=function(e){var a=t[e];n(K()(t,{$splice:[[e+1,0,a]]}))},l=function(e){n(K()(t,{$splice:[[e,1]]}))},u=Object(z.useTable)({columns:r,data:t,defaultColumn:o,filterTypes:i,updateDataAfterInput:function(e,t,a){n((function(n){return K()(n,Object(L.a)({},e,Object(L.a)({},t,{$set:a})))}))},autoResetSelectedRows:!1,manualRowSelectedKey:"enabled"},V.useFilters,V.useGlobalFilter,V.useSortBy,V.useRowSelect),d=u.getTableProps,b=u.getTableBodyProps,h=u.headerGroups,p=u.rows,f=u.prepareRow,j=u.visibleColumns,m=u.state,v=u.setGlobalFilter,O=u.preGlobalFilteredRows;return Object(a.jsxs)("table",Object(H.a)(Object(H.a)({className:"table is-hoverable"},d()),{},{children:[Object(a.jsxs)("thead",{children:[Object(a.jsx)("tr",{children:Object(a.jsx)("th",{colSpan:j.length,style:{textAlign:"left"},children:Object(a.jsx)($,{preGlobalFilteredRows:O,globalFilter:m.globalFilter,setGlobalFilter:v})})}),h.map((function(e){return Object(a.jsxs)("tr",Object(H.a)(Object(H.a)({},e.getHeaderGroupProps()),{},{children:[e.headers.map((function(e){return Object(a.jsxs)("th",Object(H.a)(Object(H.a)({},e.getHeaderProps()),{},{children:[Object(a.jsxs)("div",Object(H.a)(Object(H.a)({},e.getSortByToggleProps()),{},{children:[" ",e.render("Header"),Object(a.jsx)("span",{children:e.isSorted?e.isSortedDesc?" v":" ^":""})," "]})),Object(a.jsx)("div",{children:e.canFilter?e.render("Filter"):null})]}))})),Object(a.jsx)("th",{}),Object(a.jsx)("th",{})]}))}))]}),Object(a.jsx)("tbody",Object(H.a)(Object(H.a)({},b()),{},{children:p.map((function(e,t){return f(e)||Object(a.jsx)(Y,Object(H.a)({index:t,row:e,rowOps:{appendRow:c,deleteRow:l}},e.getRowProps()))}))}))]}))};function te(e){var t=e.data,n=e.setData,r=(Object(M.a)(e,["data","setData"]),s.a.createRef());function i(e){var t=new FileReader;t.onload=function(e){var t=e.target.result,a=U.a.read(t,{type:"binary",raw:!0}),r=U.a.utils.sheet_to_json(a.Sheets[a.SheetNames[0]],{header:["enabled","value","abbr"]}).map((function(e){return{enabled:e.enabled,value:e.value,abbr:e.abbr}}));r[0].enabled.toString().match(/enabled/i)?n(r.slice(1)):n(r)},t.readAsBinaryString(e)}return Object(a.jsxs)("div",{className:"toolbox",children:[Object(a.jsx)("input",{type:"file",onChange:function(e){r.current.value?(i(r.current.files[0]),r.current.value=""):console.log("no file picked")},ref:r,style:{display:"none"}}),Object(a.jsx)("button",{className:"button",onClick:function(){r.current.click()},children:"Import Abbrs"}),Object(a.jsx)("button",{className:"button",onClick:function(){var e=U.a.utils.book_new(),n=U.a.utils.json_to_sheet(t);U.a.utils.book_append_sheet(e,n,"abbrs"),U.a.writeFile(e,"abbrs.xlsx")},children:"Export Abbrs"}),Object(a.jsx)("button",{className:"button",onClick:function(){window.confirm("Are you sure you want to remove all existing acronyms and replace with a common list?")&&new Promise((function(e){var t=new XMLHttpRequest;t.responseType="blob",t.onload=function(){e(t.response)},t.open("GET",B,!0),t.send()})).then(i)},children:"Load Common Abbrs"})]})}var ne=function(e){var t=e.data,n=e.setData;return Object(a.jsxs)("div",{children:[Object(a.jsx)(te,{setData:n,data:t}),Object(a.jsx)(ee,{data:t,setData:n})]})},ae=function(e,t){return function(n){n.preventDefault(),t.props.onSelReplace(e)}},re=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).getSynonyms=function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var e=JSON.parse(t.responseText);0!==e.length?a.setState({synonyms:e.map((function(e){return e.word}))}):a.setState({synonyms:[]})}};t.open("GET","https://api.datamuse.com/words?max=75&ml="+e,!0),t.send()},a.state={synonyms:[],hidden:!0},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getSynonyms(this.props.word)}},{key:"componentDidUpdate",value:function(e){e.word!==this.props.word&&this.getSynonyms(this.props.word)}},{key:"render",value:function(){var e,t=this.props.abbrReplacer(this.props.word),n=this.props.abbrDict[this.props.word],r=Object(a.jsxs)("span",{className:"tag is-medium",children:[Object(a.jsx)(ie,{word:this.props.word,abbr:t===this.props.word?"":t,otherAbbrs:n},this.props.word),Object(a.jsx)("a",{className:"icon is-small",onMouseDown:ae(this.props.word,this),children:Object(a.jsx)(j.a,{icon:m.d,size:"xs",color:"#51cf66"})})]}),s=Object(a.jsx)(se,{onSelReplace:this.props.onSelReplace,synonyms:this.state.synonyms,abbrDict:this.props.abbrDict,abbrReplacer:this.props.abbrReplacer},this.state.synonyms.join("")),i=Object(a.jsx)("span",{className:"panel-block",children:"Auto-thesaurus box - highlight a word or phrase below to show synonyms in this box"},"init"),o=Object(a.jsx)("span",{className:"panel-block",children:"no results found"},"none");return e=""===this.props.word?i:0===this.state.synonyms.length?o:s,Object(a.jsxs)("div",{className:"card",children:[Object(a.jsxs)("header",{className:"card-header has-background-light\tis-shadowless",children:[Object(a.jsxs)("div",{className:"card-header-title",children:[Object(a.jsxs)("span",{children:["Thesaurus",this.props.word?":":""]}),this.props.word?r:""]}),Object(a.jsx)("a",{className:"card-header-icon",onClick:this.props.onHide,children:Object(a.jsx)("span",{className:"delete"})})]}),Object(a.jsx)("div",{className:"card-content",style:{height:"290px",overflow:"auto"},children:e})]})}}]),n}(s.a.PureComponent),se=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleCardClick=function(t){return function(n){n.preventDefault(),e.props.onSelReplace(t)}},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"tags are-medium ",children:this.props.synonyms.map((function(t,n){var r=e.props.abbrReplacer(t),s=e.props.abbrDict[t];return Object(a.jsxs)("span",{className:"tag",children:[Object(a.jsx)(ie,{word:t,abbr:r===t?"":r,otherAbbrs:s}),Object(a.jsx)("a",{className:"icon",onMouseDown:ae(t,e),children:Object(a.jsx)(j.a,{icon:m.d,size:"xs",color:"#51cf66"})})]},n)}))})})}}]),n}(s.a.PureComponent),ie=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t="";this.props.abbr&&(t=Object(a.jsx)("span",{style:{fontWeight:"bold"},children:" ("+this.props.abbr+")"}));var n="",r="";if(this.props.otherAbbrs){if(this.props.otherAbbrs.enabled){var s=this.props.otherAbbrs.enabled.filter((function(t){return t!==e.props.abbr}));s.length>0&&(n=Object(a.jsx)("span",{style:{fontStyle:"italic"},children:" ("+s.join(",")+")"}))}if(this.props.otherAbbrs.disabled){var i=this.props.otherAbbrs.disabled;i.length>0&&(r=Object(a.jsx)("span",{style:{fontStyle:"italic"},children:" ("+i.join(",")+")"}))}}return Object(a.jsxs)("span",{children:[Object(a.jsx)("span",{children:this.props.word}),t,n,r]})}}]),n}(s.a.PureComponent),oe=re,ce=[{enabled:!0,value:"abbreviations",abbr:"abbrs"},{enabled:!0,value:"table",abbr:"tbl"},{enabled:!0,value:"optimize",abbr:"optim"},{enabled:!0,value:"with ",abbr:"w/"},{enabled:!0,value:"parentheses",abbr:"parens"}],le=u.EditorState.createWithContent(u.ContentState.createFromText("- This is a custom built bullet writing tool; abbreviations will be replaced according to table in the abbreviations tab--you will see output on the right\n- This tool can optimize spacing; output will be red if the optimizer could not fix spacing with 2004 or 2006 Unicode spaces\n- Click the thesaurus button to show one; select a word in this or the output box to view synonyms--words in parentheses are abbreviations that are configured"));var ue=function(){var e=s.a.useState(!0),t=Object(c.a)(e,2),n=t[0],r=t[1],i=s.a.useState(202.321),o=Object(c.a)(i,2),l=o[0],d=o[1],b=s.a.useState(ce),h=Object(c.a)(b,2),p=h[0],f=h[1],j=s.a.useState({}),m=Object(c.a)(j,2),v=m[0],O=m[1],g=s.a.useState(""),x=Object(c.a)(g,2),w=x[0],y=x[1],N=s.a.useState(0),k=Object(c.a)(N,2),A=k[0],D=k[1],F=s.a.useState(!1),T=Object(c.a)(F,2),I=T[0],W=T[1],M=s.a.useState(le),J=Object(c.a)(M,2),U=J[0],B=J[1];function L(e){var t,a,s,i=e[0];(r(null!==(t=i.enableOptim)&&void 0!==t?t:n),d(parseFloat(null!==(a=i.width)&&void 0!==a?a:l)),Array.isArray(i.abbrData[0]))?f(i.abbrData.map((function(e){return{enabled:e[0],value:e[1],abbr:e[2]}}))):f(null!==(s=i.abbrData)&&void 0!==s?s:p);B(i.editorState?u.EditorState.fromJS(i.editorState):u.EditorState.createWithContent(u.ContentState.createFromText(i.text)))}s.a.useEffect((function(){try{localStorage.getItem("bullet-settings")&&L(JSON.parse(localStorage.getItem("bullet-settings")))}catch(e){if("SecurityError"!==e.name)throw e;console.log("Was not able to get localstorage bullets due to use of file interface and browser privacy settings")}}),[]),s.a.useEffect((function(){var e={};p.forEach((function(t){var n=String(t.value).replace(/\s/g," "),a=t.abbr,r=t.enabled;e[n]=e[n]||[],r?(e[n].enabled=e[n].enabled||[],e[n].enabled.push(a)):(e[n].disabled=e[n].disabled||[],e[n].disabled.push(a))})),O(e)}),[p]);var H=s.a.useCallback((function(e){var t={};Object.keys(v).forEach((function(e){var n=v[e];n.enabled&&(t[e]=n.enabled[n.enabled.length-1])}));var n=Object.keys(t).map((function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})).join("|"),a=new RegExp("(^|\\W|\\b)("+n+")(\\W|\\b|$)","g");return e.replace(a,(function(e,n,a,r){var s=t[a];return s||(s=""),n+s+r}))}),[v]);function z(){W(!I)}var V=[Object(a.jsx)(P,{editorState:U,setEditorState:B,abbrReplacer:H,width:l,onSelect:function(e){""!==e.trim()&&y(E(e.trim()).slice(0,8).join(" "))},enableOptim:n}),Object(a.jsx)(ne,{data:p,setData:f})];return Object(a.jsx)("div",{className:"container is-fluid",children:Object(a.jsxs)("div",{className:"columns is-multiline",children:[Object(a.jsxs)("div",{className:"column is-full",children:[Object(a.jsx)(S,{}),Object(a.jsx)(C,{enableOptim:n,onOptimChange:function(){r(!n)},width:l,onWidthChange:function(e){d(parseFloat(e.target.value))},onWidthUpdate:function(e){return function(){return d(e)}},onTextNorm:function(){var e=[],t=U.getCurrentContent();t.getBlockMap().forEach((function(t,n){!function(e,t,n){for(var a,r,s=t.getText();null!==(a=e.exec(s));)n(r=a.index,r+a[0].length)}(/\s+/g,t,(function(t,a){var r=u.SelectionState.createEmpty(n).merge({anchorOffset:t,focusOffset:a});e.push(r)}))}));var n=t;e.reverse().forEach((function(e){n=u.Modifier.replaceText(n,e," ")})),B(u.EditorState.createWithContent(n))},onTextUpdate:function(e){return function(){return B(u.EditorState.createWithContent(u.ContentState.createFromText(e)))}},onSave:function(){return{width:l,text:U.getCurrentContent().getPlainText("\n"),editorState:U.toJS(),abbrData:p,enableOptim:n}},onJSONImport:L,onThesaurusHide:z})]}),Object(a.jsx)("div",{className:"column is-full "+(I?"":"is-hidden"),children:Object(a.jsx)(oe,{word:w,onSelReplace:function(e){if(document.activeElement.className.match(/public-DraftEditor-content/)){var t=R(U),n=t.selectedText,a=t.start,r=t.anchorKey,s=t.selectionState,i=n.match(/\s*$/)[0],o=a+e.length+i.length,c=u.SelectionState.createEmpty(r).merge({anchorOffset:a,focusOffset:o}),l=u.Modifier.replaceText(U.getCurrentContent(),s,e+i),d=u.EditorState.push(U,l,"insert-characters"),b=u.EditorState.forceSelection(d,c);B(b)}},abbrDict:v,abbrReplacer:H,onHide:z})}),Object(a.jsx)("div",{className:"column is-full",children:Object(a.jsx)("div",{className:"tabs",children:Object(a.jsx)("ul",{children:["Bullets","Abbreviations"].map((function(e,t){return Object(a.jsx)("li",{className:A===t?"is-active":"",children:Object(a.jsx)("a",{onClick:(n=t,function(){return D(n)}),children:e})},t);var n}))})})}),Object(a.jsx)("div",{className:"column is-full",children:V[A]})]})})},de=(n(254),n(255),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function be(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var he=n(127);n.n(he).a.load({custom:{families:["AdobeTimes"]}}),o.a.render(Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"section",id:"stuff",children:Object(a.jsx)(ue,{})}),Object(a.jsxs)("div",{className:"container",id:"footer",children:[Object(a.jsxs)("div",{children:["If you have feedback, submit an ",Object(a.jsx)("a",{href:"https://github.com/AF-VCD/pdf-bullets/issues",children:"issue"}),"or a ",Object(a.jsx)("a",{href:"https://github.com/AF-VCD/pdf-bullets/pulls",children:"pull request"})]}),Object(a.jsx)("div",{children:"This site utilizes PDF.JS (pdf import), react-table (spreadsheet), draft-js (editor), the DataMuse API (thesaurus), and Bulma (CSS)."}),Object(a.jsxs)("div",{children:["This site has basic analytics to track the total number of visits to the page. See ",Object(a.jsx)("a",{href:"https://github.com/ckhordiasma/log-bullet-visitors",children:"here"})," for details"]}),Object(a.jsx)("div",{children:"Maintained by Christopher Kodama "})]})]}),document.getElementById("root")),function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState===XMLHttpRequest.DONE){var t=e.status;if(t>=200&&t<400){var n=JSON.parse(e.response).Count;console.log("The bullets site(s) have been visited "+n+" times in the last 7 days.")}else console.log("Visitor count increment: task failed successfully")}},e.open("POST","https://g5z50elklh.execute-api.us-east-2.amazonaws.com/default/LogVisitors",!0),e.send()}(),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");de?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):be(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):be(t,e)}))}}()}},[[256,1,2]]]);
//# sourceMappingURL=main.44b8b46e.chunk.js.map