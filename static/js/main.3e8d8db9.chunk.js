(this["webpackJsonppdf-bullets-cra"]=this["webpackJsonppdf-bullets-cra"]||[]).push([[0],{255:function(e,t){},293:function(e,t){},423:function(e,t){},424:function(e,t){},425:function(e,t){},426:function(e,t){},427:function(e,t){},472:function(e,t){},473:function(e,t){},474:function(e,t,n){},475:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(87),s=n.n(r),i=n(21),o=n(114),c=n(31),l=(n(406),n(198)),u=0,d=1,b=-1,h=-4,f={all:{AF707:{fields:["S2DutyTitleDesc","S4Assessment","S5Assessment","S6Assessment"],likelyWidth:"201.041mm"},AF1206:{fields:["specificAccomplishments","p2SpecificAccomplishments"],likelyWidth:"202.321mm"},AF910:{fields:["KeyDuties","IIIComments","IVComments","VComments","VIIIComments","IXComments"],likelyWidth:"202.321mm"},AF911:{fields:["KeyDuties","IIIComments","IVComments","VIIComments","VIIIComments","IXComments"],likelyWidth:"202.321mm"}}},j=function(e){return e.split(/[\s]+/)},p=function e(t,n,a){t.match("\n")&&console.error("renderBulletText expects a single line of text");var r=n(t.trimEnd());if(""===t)return{textLines:[],fullWidth:0,lines:0,overflow:0-a};if(r<a)return{textLines:[t],fullWidth:r,lines:1,overflow:r-a};var s=function(e){return e.split(/([\u2004\u2009\u2006\s?/|\-%!])(?=[a-zA-Z0-9+\\])/).filter(Boolean)}(t);if(n(s[0].trimEnd())<a){for(var i=0,o=1;o<=s.length;o++){if(n(s.slice(0,o).join("").trimEnd())>a){i=o-1;break}}var c=s.slice(i,s.length).join("");if(c===t)return console.warn("Can't fit \""+t+'" on a single line\n',{text:t,width:a,fullWidth:r}),{textLines:[t],fullWidth:r,lines:1,overflow:r-a};var u=e(c,n,a);return{textLines:[s.slice(0,i).join("")].concat(Object(l.a)(u.textLines)),fullWidth:r,lines:1+u.lines,overflow:r-a}}var d=r/t.length,b=parseInt(a/d),h=n(t.substring(0,b)),f=b;if(h>a)for(var j=b-1;j>0;j--){if(n(t.substring(0,j))<a){f=j;break}}else if(h<a)for(var p=b;p<=t.length;p++){if(n(t.substring(0,p))>a){f=p-1;break}}var m=t.substring(f,t.length);if(m===t)return console.warn("Can't fit \""+t+'" on a single line\n',{text:t,width:a,fullWidth:r}),{textLines:[t],fullWidth:r,lines:1,overflow:r-a};var v=e(m,n,a);return{textLines:[t.substring(0,f)].concat(Object(l.a)(v.textLines)),fullWidth:r,lines:1+v.lines,overflow:r-a}},m=n(0);var v=function(e){var t=e.text,n=void 0===t?"":t,r=e.widthPx,s=void 0===r?500:r,o=e.enableOptim,c=void 0!==o&&o,l=e.height,f=e.onHighlight,v=Object(a.useRef)(null),O=Object(a.useState)((function(){return[" "]})),g=Object(i.a)(O,2),x=g[0],w=g[1],y=Object(a.useState)("inherit"),S=Object(i.a)(y,2),N=S[0],C=S[1],k=Object(a.useState)(!1),A=Object(i.a)(k,2),T=A[0],E=A[1],D=Object(a.useState)(b),R=Object(i.a)(D,2),W=R[0],I=R[1],M=Object(a.useState)({textLines:[""]}),F=Object(i.a)(M,2),L=F[0],P=F[1],U=s+.55;function z(e,t){var n=t.getContext("2d");return n.font="12pt Times New Roman",n.textAlign="left",n.measureText(e).width}return Object(a.useEffect)((function(){P(p(n,(function(e){return z(e,v.current)}),U))}),[n,U,c]),Object(a.useEffect)((function(){if(E(!0),w(L.textLines),c){var e=function(e,t){var n="\u2004",a=j(e.trimEnd()),r=t(e);if(0===r.overflow)return{status:u,rendering:r};var s,i,o=r,c=r,l=r.overflow>=0?"\u2006":n,f=b,p=t(a[0]+" "+a.slice(1).join(l));if("\u2006"===l&&p.overflow>0||l===n&&p.overflow<h)return{status:d,rendering:p};for(;;){var m=(s=a.join(""),i=a.length-1-1,Math.floor(Math.abs(Math.floor(9*function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}(s)+5)%1e5/1e5)*Math.floor(i))+1);a.splice(m,2,a.slice(m,m+2).join(l));var v=t(a.join(" "));if(l===n&&v.overflow>0){c=o,f=u;break}if("\u2006"===l&&v.overflow<=0){c=v,f=u;break}if(a.length<=2){c=v,f=l===n&&c.overflow>h?u:d;break}o=v}return{status:f,rendering:c}}(n,(function(e){return p(e,(function(e){return z(e,v.current)}),U)}));E(!1),I(e.status),w(e.rendering.textLines)}else L.overflow<h||L.overflow>0?I(d):I(u),w(L.textLines),E(!1)}),[L,c,n,U]),Object(a.useEffect)((function(){C(T?"silver":W===d?"red":"black")}),[T,x,W]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("canvas",{ref:v,style:{visibility:"hidden",position:"absolute",top:"-1000px",left:"-1000px"}}),Object(m.jsx)("div",{style:{minHeight:l,color:N,display:"flex",flexDirection:"column"},onMouseUp:f,children:x.map((function(e){return Object(m.jsx)("span",{style:{whiteSpace:"pre"},children:e},e)}))})]})};function O(e){var t=e.editorState,n=e.setEditorState,r=e.width,s=e.onSelect,l=e.abbrReplacer,u=e.enableOptim,d="bulletOutput",b=Object(a.useState)(new Map),h=Object(i.a)(b,2),f=h[0],j=h[1];return Object(a.useEffect)((function(){var e,n=new Map,a=Object(o.a)(t.getCurrentContent().getBlockMap().keys());try{for(a.s();!(e=a.n()).done;){var r=e.value,s=document.querySelector('div[data-offset-key="'.concat(r,'-0-0"]'));s&&n.set(r,s.getBoundingClientRect().height)}}catch(i){a.e(i)}finally{a.f()}j(n)}),[t]),Object(m.jsxs)("div",{className:"bullets columns is-multiline",children:[Object(m.jsxs)("div",{className:"column",style:{},children:[Object(m.jsx)("h2",{className:"subtitle",children:"Input Bullets Here:"}),Object(m.jsx)("div",{className:"border",style:{width:r+1+"mm"},children:Object(m.jsx)(c.Editor,{editorState:t,onChange:function(e){var t=g(e).selectedText;s&&""!==t&&s(t),n(e)},handleKeyCommand:function(e,t){var a=c.RichUtils.handleKeyCommand(t,e);return a?(n(a),"handled"):"not-handled"},stripPastedStyles:!0})})]}),Object(m.jsxs)("div",{className:"column",children:[Object(m.jsx)("h2",{className:"subtitle",children:"View Output Here:"}),Object(m.jsx)("div",{className:"border",id:d,style:{width:r+1+"mm"},onMouseUp:function(e){var t=window.getSelection().toString();""!==t&&s(t)},onKeyDown:function(e){if(e.ctrlKey&&65===e.keyCode&&(e.preventDefault(),e.target.id.match(new RegExp(d)))){var t=document.createRange();t.selectNode(e.target),window.getSelection().removeAllRanges(),window.getSelection().addRange(t)}},tabIndex:"0",children:Array.from(t.getCurrentContent().getBlockMap(),(function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1].getText();return l&&(a=l(a)),Object(m.jsx)(v,{text:a,widthPx:3.7795275590551185*r,height:f.get(n),enableOptim:u},n)}))})]})]})}var g=function(e){var t=e.getSelection(),n=t.getAnchorKey(),a=e.getCurrentContent().getBlockForKey(n),r=t.getStartOffset(),s=t.getEndOffset(),i=a.getText().slice(r,s);return{selectionState:t,anchorKey:n,contentBlock:a,start:r,end:s,selectedText:i}},x=n(67),w=n(68),y=n(112),S=n.n(y),N=n(294),C=n(412),k=n(428);function A(e){return Promise.resolve(function(e){return D.apply(this,arguments)}(e)).then((function(e){var t=e.bulletText,n=e.pageInfo,a=(new DOMParser).parseFromString(t,"text/html").documentElement.textContent;return{width:parseFloat(n.width),bullets:a}}))}function T(e,t){var n,a=e.replace(/&#xD;/g,"\n"),r=(new DOMParser).parseFromString(a,"text/xml"),s="",i=Object(o.a)(f.all[t].fields);try{for(i.s();!(n=i.n()).done;){var c=n.value;s+=r.querySelector(c).innerHTML+"\n"}}catch(l){i.e(l)}finally{i.f()}return s}function E(e,t){var n,a=(new DOMParser).parseFromString(e,"text/xml"),r=[],s=[],i=[],c=0,l=Object(o.a)(f.all[t].fields);try{for(l.s();!(n=l.n()).done;){var u=n.value,d=a.querySelector("field[name='"+u+"'");r[c]=d.querySelector("font").getAttribute("typeface"),s[c]=d.querySelector("font").getAttribute("size"),i[c]=d.getAttribute("w"),c+=1}}catch(O){l.e(O)}finally{l.f()}for(var b=0,h=r;b<h.length;b++){if(h[b]!==r[0]){console.log("warning: not all grabbed sections have the same font type");break}}for(var j=0,p=s;j<p.length;j++){if(p[j]!==s[0]){console.log("warning: not all grabbed sections have the same font size");break}}for(var m=0,v=i;m<v.length;m++){if(v[m]!==i[0]){console.log("warning: not all grabbed sections have the same width");break}}return{font:r[0],fontSize:s[0],width:i[0]}}function D(){return(D=Object(N.a)(S.a.mark((function e(t){var n,a,r,s,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer().then((function(e){var t=new Uint8Array(e);return C.getDocument({data:t}).promise}));case 2:return n=e.sent,e.next=5,n.getXFA();case 5:return a=e.sent,e.next=8,n.getMetadata().then((function(e){return e.info.Custom["Short Title - Prefix"]+""+e.info.Custom["Short Title - Number"]}));case 8:return r=e.sent,s=T(a.datasets,r),i=E(a.template,r),e.abrupt("return",{bulletText:s,pageInfo:i});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){var t=e.onTextUpdate,n=e.onWidthUpdate,r=e.onJSONImport,s=Object(a.useRef)(),o=Object(a.useState)(""),c=Object(i.a)(o,2),l=c[0],u=c[1],d=Object(a.useState)(!1),b=Object(i.a)(d,2),h=b[0],f=b[1],j=h?"is-active":"";return Object(m.jsxs)("div",{className:"dropdown "+j,children:[Object(m.jsx)("input",{type:"file",onChange:function(e){if(s.current.value){var a=s.current.files[0];"pdf"===l?A(a).then((function(e){var a=e.width,r=e.bullets;n(a),t(r)})):"json"===l&&function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(e){var n=JSON.parse(e.target.result);t(n)},a.onerror=n,a.readAsText(e)}))}(a).then((function(e){return r(e)})),s.current.value=""}else console.log("no file picked")},style:{display:"none"},ref:s}),Object(m.jsx)("div",{className:"dropdown-trigger",children:Object(m.jsxs)("div",{className:"buttons has-addons",children:[Object(m.jsx)("button",{className:"button",onClick:function(){u("pdf"),s.current.click()},children:"Import"}),Object(m.jsx)("button",{className:"button",onClick:function(){return f(!h)},"aria-haspopup":"true","aria-controls":"import-menu",children:Object(m.jsx)("span",{className:"icon",children:Object(m.jsx)(x.a,{icon:w.a})})})]})}),Object(m.jsx)("div",{className:"dropdown-menu",id:"import-menu",role:"menu",onMouseLeave:function(){return f(!1)},children:Object(m.jsxs)("div",{className:"dropdown-content",children:[Object(m.jsx)("a",{href:"?#",className:"dropdown-item",onClick:function(){u("pdf"),s.current.click()},children:"PDF"}),Object(m.jsx)("a",{href:"?#",className:"dropdown-item",onClick:function(){u("json"),s.current.click()},children:"JSON"})]})})]})}function W(e){var t=e.getSavedSettings,n=Object(a.useState)(!1),r=Object(i.a)(n,2),s=r[0],o=r[1],c=Object(a.useRef)(),l=s?"is-active":"",u=function(){var e=t(),n=JSON.stringify([e]);try{localStorage.setItem("bullet-settings",n),console.log("saved settings/data to local storage with character length "+n.length)}catch(a){if("SecurityError"!==a.name)throw a;alert("Sorry, saving to cookies does not work using the file:// interface and/or your browser's privacy settings")}};return Object(m.jsxs)("div",{className:"dropdown "+l,children:[Object(m.jsx)("div",{className:"dropdown-trigger",children:Object(m.jsxs)("div",{className:"buttons has-addons",children:[Object(m.jsxs)("button",{className:"button",onClick:u,children:["Save"," "]}),Object(m.jsx)("button",{className:"button","aria-haspopup":"true","aria-controls":"save-menu",children:Object(m.jsx)("span",{className:"icon",onClick:function(){return o(!s)},children:Object(m.jsx)(x.a,{icon:w.a})})})]})}),Object(m.jsx)("div",{className:"dropdown-menu",id:"save-menu",role:"menu",onMouseLeave:function(){return o(!1)},children:Object(m.jsxs)("div",{className:"dropdown-content",children:[Object(m.jsx)("a",{href:"?#",className:"dropdown-item",onClick:u,children:"Cookie"}),Object(m.jsx)("a",{href:"?#",className:"dropdown-item",onClick:function(){var e=t(),n=JSON.stringify([e]),a="data:application/JSON;charset=utf-8,"+encodeURIComponent(n);c.current.href=a,c.current.click(),console.log("exported settings/data to JSON file with character length "+n.length)},children:"JSON"})]})}),Object(m.jsx)("a",{href:"?#",style:{display:"none"},download:"settings.json",ref:c})]})}function I(e){var t=e.onOptimChange,n=e.enableOptim,a=e.onWidthUpdate,r=e.width,s=202.321,i=202.321,o=201.041;return Object(m.jsxs)("div",{className:"field is-grouped",children:[Object(m.jsxs)("div",{className:"control field has-addons",children:[Object(m.jsxs)("div",{className:"control has-icons-right",children:[Object(m.jsx)("input",{className:"input",id:"widthInput",type:"number",min:"100",max:"500",step:".001",value:r,onChange:function(e){return a(parseFloat(e.target.value))}}),Object(m.jsx)("span",{className:"icon is-right",children:"mm"})]}),Object(m.jsxs)("div",{className:"control buttons has-addons",children:[Object(m.jsx)("a",{className:"button is-primary "+(r===s?"":"is-outlined"),onClick:function(){return a(s)},children:"AWD"}),Object(m.jsx)("a",{className:"button is-success "+(r===i?"":"is-outlined"),onClick:function(){return a(i)},children:"EPR"}),Object(m.jsx)("a",{className:"button is-link "+(r===o?"":"is-outlined"),onClick:function(){return a(o)},children:"OPR"})]})]}),Object(m.jsx)("a",{className:"control button is-dark"+(n?"":"is-outlined"),onClick:t,id:"enableOptim",children:"Auto-Space"})]})}function M(e){var t=e.onTextNorm;return Object(m.jsx)("button",{className:"button",onClick:t,children:"Renormalize Input Spacing"})}function F(){return Object(m.jsxs)("h1",{className:"title",children:[Object(m.jsx)("span",{className:"logo",children:"AF "}),Object(m.jsx)("span",{className:"logo",children:"Bull"}),"et",Object(m.jsx)("span",{className:"logo",children:" Sh"}),"aping &",Object(m.jsx)("span",{className:"logo",children:" i"}),"teration",Object(m.jsx)("span",{className:"logo",children:" t"}),"ool"]})}function L(e){var t=e.onHide;return Object(m.jsxs)("a",{className:"button",onClick:t,"aria-haspopup":"true","aria-controls":"thesaurus-menu",children:[Object(m.jsx)("span",{children:"Thesaurus"}),Object(m.jsx)("span",{className:"icon",children:Object(m.jsx)(x.a,{icon:w.a})})]})}function P(e){return Object(m.jsx)("nav",{className:"navbar",role:"navigation","aria-label":"main navigation",children:Object(m.jsxs)("div",{className:"navbar-start",children:[Object(m.jsx)("div",{className:"navbar-item",children:Object(m.jsx)(W,{getSavedSettings:e.getSavedSettings})}),Object(m.jsx)("div",{className:"navbar-item",children:Object(m.jsx)(R,{onJSONImport:e.onJSONImport,onTextUpdate:e.onTextUpdate,onWidthUpdate:e.onWidthUpdate})}),Object(m.jsx)("div",{className:"navbar-item",children:Object(m.jsx)(I,{enableOptim:e.enableOptim,onOptimChange:e.onOptimChange,width:e.width,onWidthUpdate:e.onWidthUpdate})}),Object(m.jsx)("div",{className:"navbar-item",children:Object(m.jsx)(M,{onTextNorm:e.onTextNorm})}),Object(m.jsx)("div",{className:"navbar-item",children:Object(m.jsx)(L,{onHide:e.onThesaurusHide})})]})})}C.GlobalWorkerOptions.workerSrc=k;var U=n(299),z=n(199),J=n(298),B=(n(291),{columns:[{data:"enabled",type:"checkbox",disableVisualSelection:!0,width:20},{data:"value",type:"text"},{data:"abbr",type:"text"}],stretchH:"all",width:500,autoWrapRow:!0,height:500,maxRows:1/0,manualRowResize:!0,manualColumnResize:!0,rowHeaders:!0,colHeaders:["Enabled","Word","Abbreviation"],trimWhitespace:!1,enterBeginsEditing:!1,manualRowMove:!0,manualColumnMove:!0,columnSorting:{indicator:!0},autoColumnSize:!1,minRows:15,contextMenu:!0,licenseKey:"non-commercial-and-evaluation"});var H=function(e){var t=e.data,n=e.setData,r=Object(a.useRef)(null);return Object(m.jsx)(J.a,Object(z.a)(Object(z.a)({},B),{},{data:t,ref:r,afterChange:function(e,t){if("loadData"!==t&&null!==r.current){var a=r.current.hotInstance.getData().map((function(e){return{enabled:e[0],value:e[1],abbr:e[2]}}));n(a)}}}))},K=n(81),V=n.n(K),q=n.p+"static/media/abbrs.ebd0e99b.xlsx",_=function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(e){var n=e.target.result,a=V.a.read(n,{type:"binary",raw:!0}),r=V.a.utils.sheet_to_json(a.Sheets[a.SheetNames[0]],{header:["enabled","value","abbr"]}).map((function(e){return{enabled:e.enabled,value:e.value,abbr:e.abbr}}));r[0].enabled.toString().match(/enabled/i)?t(r.slice(1)):t(r)},n.readAsBinaryString(e)}))};function X(e){var t=e.data,n=e.setData,r=(Object(U.a)(e,["data","setData"]),Object(a.useRef)()),s=Object(a.useState)({name:"",size:0,lastModified:0}),o=Object(i.a)(s,2),c=o[0],l=o[1];return Object(a.useEffect)((function(){""!==c.name&&_(c).then((function(e){return n(e)}))}),[c]),Object(m.jsxs)("div",{className:"toolbox",children:[Object(m.jsx)("input",{type:"file","data-testid":"uploader",onChange:function(e){var t=r.current.files[0];void 0!==t&&(c.lastModified==t.lastModified&&c.name===t.name&&c.size===t.size||l(t))},ref:r,style:{display:"none"}}),Object(m.jsx)("button",{className:"button",onClick:function(){r.current.click()},children:"Import Abbrs"}),Object(m.jsx)("button",{className:"button",onClick:function(){return function(e,t){var n=V.a.utils.book_new(),a=V.a.utils.json_to_sheet(e);V.a.utils.book_append_sheet(n,a,"abbrs"),V.a.writeFile(n,t)}(t,"abbrs.xlsx")},children:"Export Abbrs"}),Object(m.jsx)("button",{className:"button",onClick:function(){window.confirm("Are you sure you want to remove all existing acronyms and replace with a common list?")&&fetch(q).then((function(e){return e.blob()})).then((function(e){return _(e)})).then((function(e){return n(e)}))},children:"Load Common Abbrs"})]})}var $=function(e){var t=e.data,n=e.setData;return Object(m.jsxs)("div",{children:[Object(m.jsx)(X,{setData:n,data:t}),Object(m.jsx)(H,{data:t,setData:n})]})},G=n(147),Z=n(148),Q=n(150),Y=n(149),ee=function(e,t){return function(n){n.preventDefault(),t.props.onSelReplace(e)}},te=function(e){Object(Q.a)(n,e);var t=Object(Y.a)(n);function n(e){var a;return Object(G.a)(this,n),(a=t.call(this,e)).getSynonyms=function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var e=JSON.parse(t.responseText);0!==e.length?a.setState({synonyms:e.map((function(e){return e.word}))}):a.setState({synonyms:[]})}};t.open("GET","https://api.datamuse.com/words?max=75&ml="+e,!0),t.send()},a.state={synonyms:[],hidden:!0},a}return Object(Z.a)(n,[{key:"componentDidMount",value:function(){this.getSynonyms(this.props.word)}},{key:"componentDidUpdate",value:function(e){e.word!==this.props.word&&this.getSynonyms(this.props.word)}},{key:"render",value:function(){var e,t=this.props.abbrReplacer(this.props.word),n=this.props.abbrDict[this.props.word],a=Object(m.jsxs)("span",{className:"tag is-medium",children:[Object(m.jsx)(ae,{word:this.props.word,abbr:t===this.props.word?"":t,otherAbbrs:n},this.props.word),Object(m.jsx)("a",{className:"icon is-small",onMouseDown:ee(this.props.word,this),children:Object(m.jsx)(x.a,{icon:w.b,size:"xs",color:"#51cf66"})})]}),r=Object(m.jsx)(ne,{onSelReplace:this.props.onSelReplace,synonyms:this.state.synonyms,abbrDict:this.props.abbrDict,abbrReplacer:this.props.abbrReplacer},this.state.synonyms.join("")),s=Object(m.jsx)("span",{className:"panel-block",children:"Auto-thesaurus box - highlight a word or phrase below to show synonyms in this box"},"init"),i=Object(m.jsx)("span",{className:"panel-block",children:"no results found"},"none");return e=""===this.props.word?s:0===this.state.synonyms.length?i:r,Object(m.jsxs)("div",{className:"card",children:[Object(m.jsxs)("header",{className:"card-header has-background-light\tis-shadowless",children:[Object(m.jsxs)("div",{className:"card-header-title",children:[Object(m.jsxs)("span",{children:["Thesaurus",this.props.word?":":""]}),this.props.word?a:""]}),Object(m.jsx)("a",{className:"card-header-icon",onClick:this.props.onHide,children:Object(m.jsx)("span",{className:"delete"})})]}),Object(m.jsx)("div",{className:"card-content",style:{height:"290px",overflow:"auto"},children:e})]})}}]),n}(a.PureComponent),ne=function(e){Object(Q.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(G.a)(this,n),t.apply(this,arguments)}return Object(Z.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"tags are-medium ",children:this.props.synonyms.map((function(t,n){var a=e.props.abbrReplacer(t),r=e.props.abbrDict[t];return Object(m.jsxs)("span",{className:"tag",children:[Object(m.jsx)(ae,{word:t,abbr:a===t?"":a,otherAbbrs:r}),Object(m.jsx)("a",{className:"icon",onMouseDown:ee(t,e),children:Object(m.jsx)(x.a,{icon:w.b,size:"xs",color:"#51cf66"})})]},n)}))})})}}]),n}(a.PureComponent),ae=function(e){Object(Q.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(G.a)(this,n),t.apply(this,arguments)}return Object(Z.a)(n,[{key:"render",value:function(){var e=this,t="";this.props.abbr&&(t=Object(m.jsx)("span",{style:{fontWeight:"bold"},children:" ("+this.props.abbr+")"}));var n="",a="";if(this.props.otherAbbrs){if(this.props.otherAbbrs.enabled){var r=this.props.otherAbbrs.enabled.filter((function(t){return t!==e.props.abbr}));r.length>0&&(n=Object(m.jsx)("span",{style:{fontStyle:"italic"},children:" ("+r.join(",")+")"}))}if(this.props.otherAbbrs.disabled){var s=this.props.otherAbbrs.disabled;s.length>0&&(a=Object(m.jsx)("span",{style:{fontStyle:"italic"},children:" ("+s.join(",")+")"}))}}return Object(m.jsxs)("span",{children:[Object(m.jsx)("span",{children:this.props.word}),t,n,a]})}}]),n}(a.PureComponent),re=te,se=[{enabled:!0,value:"abbreviations",abbr:"abbrs"},{enabled:!0,value:"table",abbr:"tbl"},{enabled:!0,value:"optimize",abbr:"optim"},{enabled:!0,value:"with ",abbr:"w/"},{enabled:!0,value:"parentheses",abbr:"parens"}],ie=c.EditorState.createWithContent(c.ContentState.createFromText("- This is a custom built bullet writing tool; abbreviations will be replaced according to table in the abbreviations tab--you will see output on the right\n- This tool can optimize spacing; output will be red if the optimizer could not fix spacing with 2004 or 2006 Unicode spaces\n- Click the thesaurus button to show one; select a word in this or the output box to view synonyms--words in parentheses are abbreviations that are configured"));var oe=function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(202.321),o=Object(i.a)(s,2),l=o[0],u=o[1],d=Object(a.useState)(se),b=Object(i.a)(d,2),h=b[0],f=b[1],p=Object(a.useState)({}),v=Object(i.a)(p,2),x=v[0],w=v[1],y=Object(a.useState)(""),S=Object(i.a)(y,2),N=S[0],C=S[1],k=Object(a.useState)(0),A=Object(i.a)(k,2),T=A[0],E=A[1],D=Object(a.useState)(!1),R=Object(i.a)(D,2),W=R[0],I=R[1],M=Object(a.useState)(ie),L=Object(i.a)(M,2),U=L[0],z=L[1];function J(e){var t,a,s,i=e[0];(r(null!==(t=i.enableOptim)&&void 0!==t?t:n),u(parseFloat(null!==(a=i.width)&&void 0!==a?a:l)),Array.isArray(i.abbrData[0]))?f(i.abbrData.map((function(e){return{enabled:e[0],value:e[1],abbr:e[2]}}))):f(null!==(s=i.abbrData)&&void 0!==s?s:h);z(i.editorState?c.EditorState.fromJS(i.editorState):c.EditorState.createWithContent(c.ContentState.createFromText(i.text)))}Object(a.useEffect)((function(){try{localStorage.getItem("bullet-settings")&&J(JSON.parse(localStorage.getItem("bullet-settings")))}catch(e){if("SecurityError"!==e.name)throw e;console.log("Was not able to get localstorage bullets due to use of file interface and browser privacy settings")}}),[]),Object(a.useEffect)((function(){var e={};h.filter((function(e){return null!==e.value&&null!==e.abbr})).forEach((function(t){var n=String(t.value).replace(/\s/g," "),a=t.abbr,r=t.enabled;e[n]=e[n]||[],r?(e[n].enabled=e[n].enabled||[],e[n].enabled.push(a)):(e[n].disabled=e[n].disabled||[],e[n].disabled.push(a))})),w(e)}),[h]);var B=Object(a.useCallback)((function(e){var t={};Object.keys(x).forEach((function(e){var n=x[e];n.enabled&&(t[e]=n.enabled[n.enabled.length-1])}));var n=Object.keys(t).map((function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})).join("|"),a=new RegExp("(^|\\W|\\b)("+n+")(\\W|\\b|$)","g");return e.replace(a,(function(e,n,a,r){var s=t[a];return s||(s=""),n+s+r}))}),[x]);function H(){I(!W)}var K=[Object(m.jsx)(O,{editorState:U,setEditorState:z,abbrReplacer:B,width:l,onSelect:function(e){""!==e.trim()&&C(j(e.trim()).slice(0,8).join(" "))},enableOptim:n}),Object(m.jsx)($,{data:h,setData:f})];return Object(m.jsx)("div",{className:"container is-fluid",children:Object(m.jsxs)("div",{className:"columns is-multiline",children:[Object(m.jsxs)("div",{className:"column is-full",children:[Object(m.jsx)(F,{}),Object(m.jsx)(P,{enableOptim:n,onOptimChange:function(){r(!n)},width:l,onWidthUpdate:u,onTextNorm:function(){var e=[],t=U.getCurrentContent();t.getBlockMap().forEach((function(t,n){!function(e,t,n){for(var a,r,s=t.getText();null!==(a=e.exec(s));)n(r=a.index,r+a[0].length)}(/\s+/g,t,(function(t,a){var r=c.SelectionState.createEmpty(n).merge({anchorOffset:t,focusOffset:a});e.push(r)}))}));var n=t;e.reverse().forEach((function(e){n=c.Modifier.replaceText(n,e," ")})),z(c.EditorState.createWithContent(n))},onTextUpdate:function(e){z(c.EditorState.createWithContent(c.ContentState.createFromText(e)))},getSavedSettings:function(){return{width:l,text:U.getCurrentContent().getPlainText("\n"),editorState:U.toJS(),abbrData:h,enableOptim:n}},onJSONImport:J,onThesaurusHide:H})]}),Object(m.jsx)("div",{className:"column is-full "+(W?"":"is-hidden"),children:Object(m.jsx)(re,{word:N,onSelReplace:function(e){if(document.activeElement.className.match(/public-DraftEditor-content/)){var t=g(U),n=t.selectedText,a=t.start,r=t.anchorKey,s=t.selectionState,i=n.match(/\s*$/)[0],o=a+e.length+i.length,l=c.SelectionState.createEmpty(r).merge({anchorOffset:a,focusOffset:o}),u=c.Modifier.replaceText(U.getCurrentContent(),s,e+i),d=c.EditorState.push(U,u,"insert-characters"),b=c.EditorState.forceSelection(d,l);z(b)}},abbrDict:x,abbrReplacer:B,onHide:H})}),Object(m.jsx)("div",{className:"column is-full",children:Object(m.jsx)("div",{className:"tabs",children:Object(m.jsx)("ul",{children:["Bullets","Abbreviations"].map((function(e,t){return Object(m.jsx)("li",{className:T===t?"is-active":"",children:Object(m.jsx)("a",{onClick:(n=t,function(){return E(n)}),children:e})},t);var n}))})})}),Object(m.jsx)("div",{className:"column is-full",children:K[T]})]})})},ce=(n(474),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function le(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ue=n(297);n.n(ue).a.load({custom:{families:["AdobeTimes"]}}),s.a.render(Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"section",id:"stuff",children:Object(m.jsx)(oe,{})}),Object(m.jsxs)("div",{className:"container",id:"footer",children:[Object(m.jsxs)("div",{children:["If you have feedback, submit an"," ",Object(m.jsx)("a",{href:"https://github.com/AF-VCD/pdf-bullets/issues",children:"issue"}),"or a"," ",Object(m.jsx)("a",{href:"https://github.com/AF-VCD/pdf-bullets/pulls",children:"pull request"})]}),Object(m.jsx)("div",{children:"This site utilizes PDF.JS (pdf import), react-table (spreadsheet), draft-js (editor), the DataMuse API (thesaurus), and Bulma (CSS)."}),Object(m.jsxs)("div",{children:["This site has basic analytics to track the total number of visits to the page. See"," ",Object(m.jsx)("a",{href:"https://github.com/ckhordiasma/log-bullet-visitors",children:"here"})," ","for details"]}),Object(m.jsx)("div",{children:"Maintained by Christopher Kodama "})]})]}),document.getElementById("root")),function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState===XMLHttpRequest.DONE){var t=e.status;if(t>=200&&t<400){var n=JSON.parse(e.response).Count;console.log("The bullets site(s) have been visited "+n+" times in the last 7 days.")}else console.log("Visitor count increment: task failed successfully")}},e.open("POST","https://g5z50elklh.execute-api.us-east-2.amazonaws.com/default/LogVisitors",!0),e.send()}(),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");ce?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):le(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):le(t,e)}))}}()}},[[475,1,2]]]);
//# sourceMappingURL=main.3e8d8db9.chunk.js.map